"use strict";define(["jquery","core/config","core/str","core/notification","local_tlcore/rest","core/localstorage"],function(a,b,c,d,e,f){var g={};return{get_string:function(a,b,d,e){return c.get_string(a,b,d,e)},get_strings:function(b,e){var f=a.Deferred();return c.get_strings(b).done(function(a){var c={};for(var d in a){var g=a[d],h=b[d];e?c[h.component+"."+h.key]=g:c[h.key]=g}f.resolve(c)}).fail(d.exception),f},get_component_strings:function(c){var d=a.Deferred(),h=a("html").attr("lang").replace(/-/g,"_"),i="local_tlcore/component_strings/"+c+"/"+h;if(g[i])return g[i];g[i]=d;var j=f.get(i);if(j&&"undefined"!=typeof j)return j=JSON.parse(j),d.resolve(j),d;var k=e.newAPI(b.wwwroot+"/local/tlcore/rest.php");return k.get("get_component_strings",{component:c}).then(function(a){var b=a.result;f.set(i,JSON.stringify(b)),d.resolve(b)}),d}}});