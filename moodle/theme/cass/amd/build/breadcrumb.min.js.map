{"version":3,"sources":["../src/breadcrumb.js"],"names":["define","$","init","document","ready","titleObjects","each","push","theBigTitleText","length","theBigTitle","text","trim","theBreadcrumbTitle","theTop","offset","top","parseFloat","css","replace","linkVisible","window","scroll","yPos","scrollTop","animate","opacity","hide"],"mappings":"AAAAA,OAAM,yBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAE3B,MAAO,CACHC,IAAI,CAAE,eAAW,CAMbD,CAAC,CAACE,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAY,CAG1B,GAAIC,CAAAA,CAAY,CAAG,EAAnB,CACAJ,CAAC,CAAC,kCAAD,CAAD,CAAsCK,IAAtC,CACI,UAAW,CAEPD,CAAY,CAACE,IAAb,CAAkBN,CAAC,CAAC,IAAD,CAAnB,CACH,CAJL,EAMA,GAAIO,CAAAA,CAAe,CAAG,EAAtB,CAGA,GAA2B,CAAvB,EAAAH,CAAY,CAACI,MAAjB,CAA8B,CAC1B,GAAIC,CAAAA,CAAW,CAAGL,CAAY,CAAC,CAAD,CAA9B,CACAG,CAAe,CAAGE,CAAW,CAACC,IAAZ,GAAmBC,IAAnB,EACrB,CAHD,IAGO,CACH,MACH,CAlByB,GAqBtBC,CAAAA,CAAkB,CAAGZ,CAAC,CAAC,6BAA6BO,CAA7B,CAA8C,WAA/C,CArBA,CAwBtBM,CAAM,CAAGJ,CAAW,CAACK,MAAZ,GAAqBC,GAArB,CAA2B,EAA3B,CAAgCC,UAAU,CAACP,CAAW,CAACQ,GAAZ,CAAgB,WAAhB,EAA6BC,OAA7B,CAAqC,MAArC,CAA6C,GAA7C,CAAD,CAxB7B,CA2BtBC,CAAW,GA3BW,CA8B1BnB,CAAC,CAACoB,MAAD,CAAD,CAAUC,MAAV,CAAiB,UAAY,CAGzB,GAAIC,CAAAA,CAAI,CAAGtB,CAAC,CAAC,IAAD,CAAD,CAAQuB,SAAR,EAAX,CAGA,GAAKD,CAAI,EAAIT,CAAT,EAAoB,CAACM,CAAzB,CAAsC,CAClCP,CAAkB,CAACK,GAAnB,CAAuB,SAAvB,CAAkC,GAAlC,EAAuCA,GAAvC,CAA2C,SAA3C,CAAsD,cAAtD,EAAsEO,OAAtE,CAA8E,CAACC,OAAO,CAAE,GAAV,CAA9E,CAA8F,GAA9F,EAGAN,CAAW,GAAX,CACA,MACH,CAED,GAAKG,CAAI,CAAGT,CAAR,EAAmBM,CAAvB,CAAoC,CAEhCP,CAAkB,CAACY,OAAnB,CAA2B,CAACC,OAAO,CAAE,GAAV,CAA3B,CAA2C,GAA3C,CAAgD,UAAW,CACvDb,CAAkB,CAACc,IAAnB,EACH,CAFD,EAKAP,CAAW,GAEd,CACJ,CAxBD,CAyBH,CAvDD,CAyDH,CAhEE,CAkEV,CApEK,CAAN","sourcesContent":["define(['jquery'], function($) {\n\n    return {\n        init: function() {\n\n            // The intention is that it hides and unhides headings in the breadcrumb\n            // when 'fixheadertotopofpage' is set\n            // Tested when 'breadcrumbsinnav' is also set.\n\n            $(document).ready(function () {\n                // Empty array for storing <h2> & <h4> objects.\n\n                var titleObjects = [];\n                $(\"#region-main h2, #region-main h4\").each(\n                    function() {\n                        // add each <h2> or <h4> object to the array.\n                        titleObjects.push($(this));\n                    }\n                );\n                var theBigTitleText = \"\";\n\n                // If at least one object found, make theBigTitle the first one found.\n                if (titleObjects.length != 0) {\n                    var theBigTitle = titleObjects[0];\n                    theBigTitleText = theBigTitle.text().trim();\n                } else {\n                    return;\n                }\n\n                // First item in the breadcrumb trail with the same title.\n                var theBreadcrumbTitle = $('.breadcrumb li:contains(\"'+ theBigTitleText +'\"):first');\n\n                // vertical position of theBigTitle.\n                var theTop = theBigTitle.offset().top - 25 - parseFloat(theBigTitle.css('marginTop').replace(/auto/, 100));\n\n                // Switch.\n                var linkVisible = false;\n\n                // When there is a scroll event...\n                $(window).scroll(function () {\n\n                    // The current scroll amount\n                    var yPos = $(this).scrollTop();\n\n                    // If big title goes off screen fade in breadcrumb title\n                    if ((yPos >= theTop) && !linkVisible) {\n                        theBreadcrumbTitle.css('opacity', '0').css('display', 'inline-block').animate({opacity: '1'}, 150);\n\n                        // Once faded in, don't do anything until the big title comes back into view\n                        linkVisible = true;\n                        return;\n                    }\n                    // If big title comes on screen, fade out breadcrumb title\n                    if ((yPos < theTop) && linkVisible) {\n\n                        theBreadcrumbTitle.animate({opacity: '0'}, 150, function() {\n                            theBreadcrumbTitle.hide();\n                        });\n\n                        // once faded out, don't do anything until the big title goes out of view.\n                        linkVisible = false;\n                        return;\n                    }\n                });\n            });\n\n        }\n    };\n});"],"file":"breadcrumb.min.js"}